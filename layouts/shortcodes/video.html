{{ $caption := .Get "caption" }}
{{ $src := .Get "src" }}
<figure id="video-{{ $src }}" class="player">
<media-player
  src="https://customer-j00pa75eocpcmpyc.cloudflarestream.com/{{ .Get "src" }}/manifest/video.m3u8"
  poster="{{- if eq "true" (default "false" (.Get "thumbnail")) }} https://assets.via.dj/images/thumbnails/{{ .Get "src" }}.jpg{{ else }}https://customer-j00pa75eocpcmpyc.cloudflarestream.com/{{ .Get "src" }}/thumbnails/thumbnail.jpg?time={{ if .Get "thumb-time" }}{{ .Get "thumb-time" }}{{ else }}1{{ end }}s{{ end }}"
  controls
  aspect-ratio="{{ if .Get "aspect-ratio" }}{{ .Get "aspect-ratio" }}{{ else }}16/9{{ end }}"
  load="visible"
  role="region"
>
  <media-outlet></media-outlet>
</media-player>
{{ if .Get "caption" }}<figcaption>{{ $caption | markdownify }}</figcaption>{{ end }}
</figure>
